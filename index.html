<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>I'm Sorry üíñ ‚Äî A Little Apology</title>
    <!-- Google font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Poppins:wght@300;500&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg1: #fff0f6;
        --bg2: #ffeef8;
        --accent: #ff6fa3;
        --muted: #7a5a6a;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
        background: linear-gradient(135deg, var(--bg1), var(--bg2));
        color: #422238;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 24px;
      }

      .card {
        width: 100%;
        max-width: 820px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.8),
          rgba(255, 255, 255, 0.65)
        );
        border-radius: 18px;
        box-shadow: 0 12px 30px rgba(145, 64, 128, 0.12);
        padding: 28px;
        position: relative;
        overflow: hidden;
      }

      /* floating hearts */
      .heart {
        position: absolute;
        opacity: 0.12;
        filter: blur(0.6px);
      }

      .heart.h1 {
        width: 220px;
        right: -40px;
        top: -30px;
        transform: rotate(15deg);
      }
      .heart.h2 {
        width: 140px;
        left: -30px;
        bottom: -10px;
        transform: rotate(-10deg);
      }

      header {
        display: flex;
        gap: 18px;
        align-items: center;
      }
      .avatar {
        width: 84px;
        height: 84px;
        border-radius: 50%;
        background: linear-gradient(135deg, #ffd6ea, #ff9ec6);
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: "Amatic SC", cursive;
        font-size: 36px;
        color: white;
        box-shadow: 0 6px 18px rgba(255, 110, 160, 0.18);
      }
      h1 {
        margin: 0;
        font-family: "Amatic SC", cursive;
        font-size: 40px;
        color: #3a1530;
      }
      p.lead {
        margin: 6px 0 0;
        color: var(--muted);
      }

      .content {
        display: grid;
        grid-template-columns: 1fr 320px;
        gap: 18px;
        margin-top: 20px;
      }

      .left {
        padding: 18px;
        background: rgba(255, 255, 255, 0.6);
        border-radius: 12px;
        min-height: 220px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .message {
        font-size: 18px;
        line-height: 1.5;
        color: #4a2434;
        white-space: pre-wrap;
      }

      .right {
        padding: 16px;
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
        justify-content: flex-start;
      }

      button {
        background: linear-gradient(90deg, var(--accent), #ff8ab1);
        border: none;
        color: white;
        padding: 12px 14px;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        font-size: 16px;
        box-shadow: 0 8px 18px rgba(255, 95, 140, 0.18);
      }
      button.ghost {
        background: transparent;
        color: var(--accent);
        border: 2px dashed rgba(255, 111, 150, 0.22);
        font-weight: 700;
      }

      .small {
        font-size: 14px;
        color: var(--muted);
      }

      /* typing effect */
      .typed {
        font-family: "Amatic SC", cursive;
        font-size: 22px;
      }

      /* footer */
      footer {
        margin-top: 18px;
        text-align: center;
        color: var(--muted);
        font-size: 13px;
      }

      /* responsive */
      @media (max-width: 880px) {
        .content {
          grid-template-columns: 1fr;
        }
        .right {
          order: 2;
        }
      }

      /* cute heartbeat on the 'Sorry' word */
      .sorrystamp {
        display: inline-block;
        transform-origin: center;
        animation: heartbeat 1.4s infinite ease-in-out;
        font-family: "Amatic SC", cursive;
        font-size: 36px;
        color: #ff357f;
        margin-left: 6px;
      }
      @keyframes heartbeat {
        0% {
          transform: scale(1);
        }
        25% {
          transform: scale(1.08);
        }
        40% {
          transform: scale(0.98);
        }
        60% {
          transform: scale(1.06);
        }
        100% {
          transform: scale(1);
        }
      }

      /* simple confetti pieces */
      .confetti {
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        pointer-events: none;
      }
      .confetti i {
        position: absolute;
        width: 10px;
        height: 14px;
        opacity: 0.95;
        border-radius: 2px;
      }
    </style>
  </head>
  <body>
    <div class="card" role="main" aria-labelledby="pageTitle">
      <!-- decorative hearts (SVG) -->
      <svg
        class="heart h1"
        viewBox="0 0 32 29"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill="#FFC0DE"
          d="M23.6 0c-2.9 0-4.8 2.1-5.6 3.2C17.2 2.1 15.3 0 12.4 0 8.1 0 4.9 3.3 4.9 7.6c0 9.2 10.3 12.9 12.7 21.4 2.4-8.5 12.7-12.2 12.7-21.4C27.3 3.3 24.1 0 19.8 0z"
        />
      </svg>
      <svg
        class="heart h2"
        viewBox="0 0 32 29"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill="#FFD1E6"
          d="M23.6 0c-2.9 0-4.8 2.1-5.6 3.2C17.2 2.1 15.3 0 12.4 0 8.1 0 4.9 3.3 4.9 7.6c0 9.2 10.3 12.9 12.7 21.4 2.4-8.5 12.7-12.2 12.7-21.4C27.3 3.3 24.1 0 19.8 0z"
        />
      </svg>

      <header>
        <div class="avatar" aria-hidden="true">üíå</div>
        <div>
          <h1 id="pageTitle">A Little Note from Me</h1>
          <p class="lead">
            I'm sorry Mehak‚Äî I hope this helps you to forgive me ‚ù§Ô∏è‚Äçü©π
          </p>
        </div>
      </header>

      <div class="content">
        <section class="left">
          <div class="message" id="messageDisplay">
            <!-- Default message (hidden until reveal) -->
            <div style="opacity: 0.95">
              <div class="typed" id="typedArea"></div>
              <p style="margin-top: 12px" class="small">
                Click <strong>Open My Note</strong> ‚Äî You will see .
              </p>
            </div>
          </div>
        </section>

        <aside class="right">
          <div style="display: flex; flex-direction: column; gap: 8px">
            <label class="small"></label>
            <textarea
              id="personalInput"
              rows="3"
              style="
                resize: none;
                padding: 10px;
                border-radius: 10px;
                border: 1px solid rgba(122, 90, 106, 0.12);
              "
            ></textarea>

            <button id="openBtn">Open My Note</button>
            <button class="ghost" id="surpriseBtn">
              Something for you Mahek sir.
            </button>
          </div>

          <div
            style="
              margin-top: 6px;
              padding: 12px;
              background: rgba(255, 255, 255, 0.55);
              border-radius: 10px;
              text-align: center;
            "
          >
            <div style="font-size: 14px; color: var(--muted)">
              I hope kuch Kaam aya hoo. ettu ü§å bhi chlaega
            </div>
            <div
              style="
                font-family: 'Amatic SC', cursive;
                font-size: 18px;
                margin-top: 6px;
                color: #5b2a3c;
              "
            ></div>
          </div>
        </aside>
      </div>

      <footer>
        <span class="small"
          >Made with a little clumsiness and a lot of care.</span
        >
      </footer>

      <!-- confetti container -->
      <div class="confetti" id="confetti"></div>
    </div>

    <script>
      // Core text used for the apology. You can customize or let the user provide a line.
      const defaultLines = [
        "Hey ‚Äî I'm really sorry.",
        "I didn't mean to disappoint you at all and i so sorry that it will never happen now ",
        "i promise you and ik for you this not a bid deal and all for you but for me it is and i don't really want to loose you in anyway.",
        "for me in such a short time you have started to mean everything and i am genuinely sorry.",
        "Ik its all my fault and but when you said ki chala ja yaha se then it hit me idk what maybe the fear of loosing you or fear of disappointing you but believe me i would never want to go away from you",
        "you are my best, literally best person right",
        "i always wanted to be your peace , your comfort and your safe place at each moment , i wanted to be the guy to whom you can always count on for everything.",
      ];

      const extraLines = [
        "Mahek i am sorry just don't leave me and please maaf karde yaarü•∫",
        "Zyada mat sochna itta kyu banaya mai itta kyu kar rhaa hu and all just know ki I can't afford to loose you at all not even a tiny bitüòÅ or haan MLT atti hai thodu si toh bakchodi kar rha hu so you don't worry ",
      ];

      const typedArea = document.getElementById("typedArea");
      const openBtn = document.getElementById("openBtn");
      const surpriseBtn = document.getElementById("surpriseBtn");
      const personalInput = document.getElementById("personalInput");
      const confettiRoot = document.getElementById("confetti");

      // simple typewriter effect
      async function typeText(text, speed = 40) {
        typedArea.textContent = "";
        for (let i = 0; i < text.length; i++) {
          typedArea.textContent += text[i];
          await new Promise((r) => setTimeout(r, speed));
        }
      }

      // reveal sequence
      async function revealNote() {
        openBtn.disabled = true;
        openBtn.textContent = "Opening...";
        // choose base message
        const personal = personalInput.value.trim();
        const lines = [];
        lines.push("Sorry.");

        if (personal) lines.push(personal);
        else
          lines.push(
            ...defaultLines,
            extraLines[Math.floor(Math.random() * extraLines.length)]
          );

        // animate typing per line
        for (const L of lines) {
          await typeText(L, 35);
          await new Promise((r) => setTimeout(r, 650));
          // small line break
          typedArea.textContent += "\n\n";
        }

        // add affectionate flourish
        const heart = document.createElement("span");
        heart.className = "sorrystamp";
        heart.textContent = "sorry";
        typedArea.appendChild(heart);

        openBtn.textContent = "Sent ‚ù§Ô∏è";
        throwConfetti();
        setTimeout(() => {
          openBtn.disabled = false;
        }, 1200);
      }

      // create simple confetti
      function throwConfetti() {
        for (let i = 0; i < 24; i++) {
          const piece = document.createElement("i");
          piece.style.left = Math.random() * 100 + "%";
          piece.style.top = Math.random() * 30 + "%";
          piece.style.transform =
            "translateY(0) rotate(" + Math.random() * 360 + "deg)";
          piece.style.background = ["#FFB3CC", "#FFD6EA", "#FF9EC6", "#FFE89A"][
            Math.floor(Math.random() * 4)
          ];
          confettiRoot.appendChild(piece);
          // animate
          piece.animate(
            [
              { transform: "translateY(0) rotate(0deg)", opacity: 1 },
              { transform: "translateY(300px) rotate(180deg)", opacity: 0 },
            ],
            {
              duration: 1200 + Math.random() * 800,
              easing: "cubic-bezier(.2,.8,.2,1)",
            }
          );
          setTimeout(() => piece.remove(), 2400);
        }
      }

      openBtn.addEventListener("click", revealNote);
      surpriseBtn.addEventListener("click", () => {
        personalInput.value =
          extraLines[Math.floor(Math.random() * extraLines.length)];
      });

      // allow pressing Enter+Ctrl/Cmd to open
      personalInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && (e.ctrlKey || e.metaKey)) {
          revealNote();
        }
      });

      // small accessibility: focus the input on load
      window.addEventListener("load", () => {
        personalInput.focus();
      });
    </script>
  </body>
</html>
